---                                                                                                                                                                
  Архитектура твоего проекта (Layered Architecture)
                                                                                                                                                                     
  ┌─────────────────────────────────────────────────────────────┐                                                                                                  
  │                      API Layer (Routers)                     │
  │  Только HTTP: принимает запросы, возвращает ответы          │
  │  Максимально тонкий слой, никакой логики                    │
  └─────────────────────────┬───────────────────────────────────┘
                            │ Depends(service)
  ┌─────────────────────────▼───────────────────────────────────┐
  │                     Service Layer                            │
  │  Бизнес-логика: валидация, авторизация, orchestration       │
  │  "ЧТО делать" с данными                                     │
  └─────────────────────────┬───────────────────────────────────┘
                            │ self.repository
  ┌─────────────────────────▼───────────────────────────────────┐
  │                   Repository Layer                           │
  │  Доступ к БД: SQL-запросы, CRUD                             │
  │  "КАК получить" данные                                      │
  └─────────────────────────┬───────────────────────────────────┘
                            │ SQLAlchemy ORM
  ┌─────────────────────────▼───────────────────────────────────┐
  │                      Database                                │
  └─────────────────────────────────────────────────────────────┘

  Почему именно так?
  - Separation of Concerns — каждый слой отвечает за одно
  - Testability — можно мокать каждый слой отдельно
  - Maintainability — изменение в одном месте не ломает другие

  ---
  Твой проект vs Корпоративный продукт
  ┌───────────────┬────────────────────────┬──────────────────────────────────────────────────┐
  │    Аспект     │   Твой проект (solo)   │                 Продукт компании                 │
  ├───────────────┼────────────────────────┼──────────────────────────────────────────────────┤
  │ Команда       │ 1 человек              │ 3-15+ разработчиков                              │
  ├───────────────┼────────────────────────┼──────────────────────────────────────────────────┤
  │ Code Review   │ Нет (или самопроверка) │ Обязательный PR review                           │
  ├───────────────┼────────────────────────┼──────────────────────────────────────────────────┤
  │ CI/CD         │ Базовый Docker         │ GitHub Actions, Jenkins, ArgoCD                  │
  ├───────────────┼────────────────────────┼──────────────────────────────────────────────────┤
  │ Тесты         │ Unit tests             │ Unit + Integration + E2E + Load tests            │
  ├───────────────┼────────────────────────┼──────────────────────────────────────────────────┤
  │ Мониторинг    │ Логи в stdout          │ Prometheus, Grafana, Sentry, ELK                 │
  ├───────────────┼────────────────────────┼──────────────────────────────────────────────────┤
  │ Документация  │ README + Swagger       │ ADRs, Confluence, OpenAPI specs                  │
  ├───────────────┼────────────────────────┼──────────────────────────────────────────────────┤
  │ Feature flags │ Нет                    │ LaunchDarkly, Unleash                            │
  ├───────────────┼────────────────────────┼──────────────────────────────────────────────────┤
  │ Environments  │ local + prod           │ dev → staging → prod                             │
  ├───────────────┼────────────────────────┼──────────────────────────────────────────────────┤
  │ Security      │ Базовая auth           │ SAST/DAST, dependency scanning, secrets rotation │
  ├───────────────┼────────────────────────┼──────────────────────────────────────────────────┤
  │ DB migrations │ Ручной Alembic         │ Автоматизированные в CI с rollback               │
  └───────────────┴────────────────────────┴──────────────────────────────────────────────────┘
  Что добавляют компании (и что ты можешь внедрить постепенно):

  1. Logging & Tracing — structlog + request ID
  2. Rate Limiting — slowapi или redis-based
  3. Caching — Redis для частых запросов
  4. Background Tasks — у тебя уже есть Celery!
  5. API Versioning — у тебя уже /api/v1/
  6. Health checks — у тебя уже /health

  ---
  Рекомендации по Hard Skills

  Что подтянуть сейчас (приоритет 1):
  ┌──────────────────────┬─────────────────────────────┬─────────────────────────┐
  │        Навык         │        Почему важно         │         Ресурсы         │
  ├──────────────────────┼─────────────────────────────┼─────────────────────────┤
  │ SQLAlchemy 2.0 async │ Твой проект на этом         │ Документация + практика │
  ├──────────────────────┼─────────────────────────────┼─────────────────────────┤
  │ Dependency Injection │ FastAPI Depends() везде     │ FastAPI docs            │
  ├──────────────────────┼─────────────────────────────┼─────────────────────────┤
  │ Pytest async         │ Без тестов нет уверенности  │ pytest-asyncio          │
  ├──────────────────────┼─────────────────────────────┼─────────────────────────┤
  │ Git flow             │ Branches, rebasing, commits │ Atlassian Git tutorials │
  └──────────────────────┴─────────────────────────────┴─────────────────────────┘
  Что добавить через 1-2 месяца (приоритет 2):
  ┌─────────────────────────┬─────────────────────────────────────┐
  │          Навык          │            Почему важно             │
  ├─────────────────────────┼─────────────────────────────────────┤
  │ Docker Compose profiles │ Разные конфигурации (dev/test/prod) │
  ├─────────────────────────┼─────────────────────────────────────┤
  │ GitHub Actions          │ Автоматизация тестов и деплоя       │
  ├─────────────────────────┼─────────────────────────────────────┤
  │ Alembic best practices  │ Миграции без даунтайма              │
  ├─────────────────────────┼─────────────────────────────────────┤
  │ Redis basics            │ Кэширование, сессии, rate limiting  │
  └─────────────────────────┴─────────────────────────────────────┘
  Что изучить для роста до Middle (приоритет 3):
  ┌────────────────────┬───────────────────────────────────┐
  │       Навык        │             Описание              │
  ├────────────────────┼───────────────────────────────────┤
  │ Design Patterns    │ Repository, Unit of Work, Factory │
  ├────────────────────┼───────────────────────────────────┤
  │ SOLID principles   │ Особенно S, O, D                  │
  ├────────────────────┼───────────────────────────────────┤
  │ Clean Architecture │ Hexagonal/Ports & Adapters        │
  ├────────────────────┼───────────────────────────────────┤
  │ Message Queues     │ RabbitMQ/Kafka basics             │
  ├────────────────────┼───────────────────────────────────┤
  │ API Design         │ REST best practices, OpenAPI      │
  └────────────────────┴───────────────────────────────────┘
  ---
  Рекомендации по Soft Skills

  Критично для Junior → Middle:

  1. Умение декомпозировать задачи
    - Большая фича → маленькие PR
    - Твой план в my.md — отличный пример декомпозиции
  2. Чтение чужого кода
    - Изучай open-source FastAPI проекты
    - Смотри как другие решают те же задачи
  3. Задавание правильных вопросов
    - "Как это работает?" → "Я понял X, но не понимаю Y — это потому что Z?"
  4. Документирование решений
    - Почему выбрал Repository pattern?
    - ADRs (Architecture Decision Records)
  5. Self-review перед PR
    - Перечитай свой код через час после написания
    - Найди 3 улучшения сам

  ---
  Твой следующий шаг

  Начни с backend/app/repositories/base.py. Это фундамент:

  1. Создай base.py с BaseRepository
  2. Напиши 1 тест для него
  3. Создай CategoryRepository
  4. Напиши тест для CategoryRepository
  5. Только потом переходи к Service
